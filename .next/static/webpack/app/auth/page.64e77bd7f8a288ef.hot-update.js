"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/auth/page",{

/***/ "(app-pages-browser)/./app/auth/page.tsx":
/*!***************************!*\
  !*** ./app/auth/page.tsx ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AuthPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _whop_apps_nextjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @whop-apps/nextjs */ \"(app-pages-browser)/./lib/whop-apps-nextjs/index.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction AuthPage() {\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { user, isLoading, isEmbedded, error, signIn, refresh } = (0,_whop_apps_nextjs__WEBPACK_IMPORTED_MODULE_5__.useWhopAuth)();\n    const [redirectTriggered, setRedirectTriggered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showManualOption, setShowManualOption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthPage.useEffect\": ()=>{\n            if (!isLoading && user) {\n                router.replace(\"/dashboard\");\n            }\n        }\n    }[\"AuthPage.useEffect\"], [\n        isLoading,\n        user,\n        router\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthPage.useEffect\": ()=>{\n            if (isLoading || user || isEmbedded) {\n                return;\n            }\n            if (!redirectTriggered) {\n                setRedirectTriggered(true);\n                signIn();\n            }\n        }\n    }[\"AuthPage.useEffect\"], [\n        isLoading,\n        user,\n        isEmbedded,\n        redirectTriggered,\n        signIn\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthPage.useEffect\": ()=>{\n            if (!isEmbedded || isLoading || user || showManualOption) {\n                return;\n            }\n            const timeout = window.setTimeout({\n                \"AuthPage.useEffect.timeout\": ()=>{\n                    setShowManualOption(true);\n                }\n            }[\"AuthPage.useEffect.timeout\"], 4000);\n            return ({\n                \"AuthPage.useEffect\": ()=>window.clearTimeout(timeout)\n            })[\"AuthPage.useEffect\"];\n        }\n    }[\"AuthPage.useEffect\"], [\n        isEmbedded,\n        isLoading,\n        user,\n        showManualOption\n    ]);\n    const statusMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AuthPage.useMemo[statusMessage]\": ()=>{\n            if (isLoading) {\n                return \"Checking your Whop session...\";\n            }\n            if (user) {\n                return \"Session confirmed. Redirecting to your dashboard...\";\n            }\n            if (isEmbedded) {\n                return showManualOption ? \"We couldn’t confirm your session automatically.\" : \"Waiting for Whop to confirm your session...\";\n            }\n            return \"Redirecting you to Whop to continue...\";\n        }\n    }[\"AuthPage.useMemo[statusMessage]\"], [\n        isLoading,\n        user,\n        isEmbedded,\n        showManualOption\n    ]);\n    const showManualButton = !isEmbedded || showManualOption || Boolean(error);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 bg-black/20\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                lineNumber: 66,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative z-10 max-w-md w-full\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"inline-flex items-center justify-center w-16 h-16 bg-white/10 rounded-2xl mb-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"w-8 h-8 text-white\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    viewBox: \"0 0 24 24\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M13 10V3L4 14h7v7l9-11h-7z\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                        lineNumber: 72,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                    lineNumber: 71,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                lineNumber: 70,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-4xl font-bold text-white mb-2\",\n                                children: \"Welcome to AmpFlow\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                lineNumber: 75,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-white/80\",\n                                children: \"Automate your content distribution across platforms\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                lineNumber: 76,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                        lineNumber: 69,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_4__.Card, {\n                        className: \"p-8 bg-white/10 backdrop-blur-lg border-white/20 space-y-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col items-center text-center space-y-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"animate-spin h-6 w-6 text-white\",\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        fill: \"none\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                className: \"opacity-25\",\n                                                cx: \"12\",\n                                                cy: \"12\",\n                                                r: \"10\",\n                                                stroke: \"currentColor\",\n                                                strokeWidth: \"4\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                                lineNumber: 82,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                className: \"opacity-75\",\n                                                fill: \"currentColor\",\n                                                d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                                lineNumber: 83,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                        lineNumber: 81,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-white font-semibold\",\n                                                children: statusMessage\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                                lineNumber: 90,\n                                                columnNumber: 15\n                                            }, this),\n                                            error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-white/70\",\n                                                children: error.message\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                                lineNumber: 92,\n                                                columnNumber: 17\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-white/60\",\n                                                children: isEmbedded ? \"This page will close once Whop hands us your session.\" : \"You’ll land back here after completing Whop authentication.\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                                lineNumber: 94,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                        lineNumber: 89,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                lineNumber: 80,\n                                columnNumber: 11\n                            }, this),\n                            showManualButton && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                        onClick: ()=>{\n                                            setRedirectTriggered(true);\n                                            signIn();\n                                        },\n                                        disabled: isLoading,\n                                        className: \"w-full bg-gradient-to-r from-[#DD2F6E] to-[#f53c79] hover:from-[#DD2F6E]/90 hover:to-[#f53c79]/90 text-white\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-5 h-5 mr-2\",\n                                                fill: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                                    lineNumber: 114,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                                lineNumber: 113,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"Continue with Whop\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                        lineNumber: 105,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                        onClick: ()=>{\n                                            setRedirectTriggered(true);\n                                            refresh();\n                                        },\n                                        disabled: isLoading,\n                                        variant: \"outline\",\n                                        className: \"w-full border-white/20 text-white hover:bg-white/10\",\n                                        children: \"Refresh session\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                        lineNumber: 119,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                lineNumber: 104,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-center text-xs text-white/60\",\n                                children: \"By continuing, you agree to our Terms of Service and Privacy Policy\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                                lineNumber: 133,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                        lineNumber: 79,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n                lineNumber: 68,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\aman7\\\\Desktop\\\\AmpFlow\\\\app\\\\auth\\\\page.tsx\",\n        lineNumber: 65,\n        columnNumber: 5\n    }, this);\n}\n_s(AuthPage, \"RgAQoBVFnAqCDvGzjYYsy4s6k4A=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _whop_apps_nextjs__WEBPACK_IMPORTED_MODULE_5__.useWhopAuth\n    ];\n});\n_c = AuthPage;\nvar _c;\n$RefreshReg$(_c, \"AuthPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVOzBEQUF5QmhCLE1BQU1pQyxPQUFPOzs7OztxRUFFbkQsOERBQUNOO2dEQUFFWCxXQUFVOzBEQUNWakIsYUFDRywwREFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OzRCQU1YYyxrQ0FDQyw4REFBQ0U7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDeEIseURBQU1BO3dDQUNMMEMsU0FBUzs0Q0FDUDlCLHFCQUFxQjs0Q0FDckJIO3dDQUNGO3dDQUNBa0MsVUFBVXJDO3dDQUNWa0IsV0FBVTs7MERBRVYsOERBQUNDO2dEQUFJRCxXQUFVO2dEQUFlRSxNQUFLO2dEQUFlRSxTQUFROzBEQUN4RCw0RUFBQ0M7b0RBQUtJLEdBQUU7Ozs7Ozs7Ozs7OzRDQUNKOzs7Ozs7O2tEQUlSLDhEQUFDakMseURBQU1BO3dDQUNMMEMsU0FBUzs0Q0FDUDlCLHFCQUFxQjs0Q0FDckJGO3dDQUNGO3dDQUNBaUMsVUFBVXJDO3dDQUNWc0MsU0FBUTt3Q0FDUnBCLFdBQVU7a0RBQ1g7Ozs7Ozs7Ozs7OzswQ0FNTCw4REFBQ1c7Z0NBQUVYLFdBQVU7MENBQW9DOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPM0Q7R0FuSXdCckI7O1FBQ1BKLHNEQUFTQTtRQUN3Q0csMERBQVdBOzs7S0FGckRDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGFtYW43XFxEZXNrdG9wXFxBbXBGbG93XFxhcHBcXGF1dGhcXHBhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIjtcclxuaW1wb3J0IHsgdXNlV2hvcEF1dGggfSBmcm9tIFwiQHdob3AtYXBwcy9uZXh0anNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEF1dGhQYWdlKCkge1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHsgdXNlciwgaXNMb2FkaW5nLCBpc0VtYmVkZGVkLCBlcnJvciwgc2lnbkluLCByZWZyZXNoIH0gPSB1c2VXaG9wQXV0aCgpO1xyXG4gIGNvbnN0IFtyZWRpcmVjdFRyaWdnZXJlZCwgc2V0UmVkaXJlY3RUcmlnZ2VyZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzaG93TWFudWFsT3B0aW9uLCBzZXRTaG93TWFudWFsT3B0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghaXNMb2FkaW5nICYmIHVzZXIpIHtcclxuICAgICAgcm91dGVyLnJlcGxhY2UoXCIvZGFzaGJvYXJkXCIpO1xyXG4gICAgfVxyXG4gIH0sIFtpc0xvYWRpbmcsIHVzZXIsIHJvdXRlcl0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGlzTG9hZGluZyB8fCB1c2VyIHx8IGlzRW1iZWRkZWQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghcmVkaXJlY3RUcmlnZ2VyZWQpIHtcclxuICAgICAgc2V0UmVkaXJlY3RUcmlnZ2VyZWQodHJ1ZSk7XHJcbiAgICAgIHNpZ25JbigpO1xyXG4gICAgfVxyXG4gIH0sIFtpc0xvYWRpbmcsIHVzZXIsIGlzRW1iZWRkZWQsIHJlZGlyZWN0VHJpZ2dlcmVkLCBzaWduSW5dKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghaXNFbWJlZGRlZCB8fCBpc0xvYWRpbmcgfHwgdXNlciB8fCBzaG93TWFudWFsT3B0aW9uKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBzZXRTaG93TWFudWFsT3B0aW9uKHRydWUpO1xyXG4gICAgfSwgNDAwMCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgfSwgW2lzRW1iZWRkZWQsIGlzTG9hZGluZywgdXNlciwgc2hvd01hbnVhbE9wdGlvbl0pO1xyXG5cclxuICBjb25zdCBzdGF0dXNNZXNzYWdlID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHJldHVybiBcIkNoZWNraW5nIHlvdXIgV2hvcCBzZXNzaW9uLi4uXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHVzZXIpIHtcclxuICAgICAgcmV0dXJuIFwiU2Vzc2lvbiBjb25maXJtZWQuIFJlZGlyZWN0aW5nIHRvIHlvdXIgZGFzaGJvYXJkLi4uXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzRW1iZWRkZWQpIHtcclxuICAgICAgcmV0dXJuIHNob3dNYW51YWxPcHRpb25cclxuICAgICAgICA/IFwiV2UgY291bGRu4oCZdCBjb25maXJtIHlvdXIgc2Vzc2lvbiBhdXRvbWF0aWNhbGx5LlwiXHJcbiAgICAgICAgOiBcIldhaXRpbmcgZm9yIFdob3AgdG8gY29uZmlybSB5b3VyIHNlc3Npb24uLi5cIjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gXCJSZWRpcmVjdGluZyB5b3UgdG8gV2hvcCB0byBjb250aW51ZS4uLlwiO1xyXG4gIH0sIFtpc0xvYWRpbmcsIHVzZXIsIGlzRW1iZWRkZWQsIHNob3dNYW51YWxPcHRpb25dKTtcclxuXHJcbiAgY29uc3Qgc2hvd01hbnVhbEJ1dHRvbiA9ICFpc0VtYmVkZGVkIHx8IHNob3dNYW51YWxPcHRpb24gfHwgQm9vbGVhbihlcnJvcik7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS05MDAgdmlhLWJsdWUtOTAwIHRvLWluZGlnby05MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1ibGFjay8yMFwiIC8+XHJcblxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHotMTAgbWF4LXctbWQgdy1mdWxsXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi04XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB3LTE2IGgtMTYgYmctd2hpdGUvMTAgcm91bmRlZC0yeGwgbWItNFwiPlxyXG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMyAxMFYzTDQgMTRoN3Y3bDktMTFoLTd6XCIgLz5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi0yXCI+V2VsY29tZSB0byBBbXBGbG93PC9oMT5cclxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvODBcIj5BdXRvbWF0ZSB5b3VyIGNvbnRlbnQgZGlzdHJpYnV0aW9uIGFjcm9zcyBwbGF0Zm9ybXM8L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cInAtOCBiZy13aGl0ZS8xMCBiYWNrZHJvcC1ibHVyLWxnIGJvcmRlci13aGl0ZS8yMCBzcGFjZS15LTZcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgdGV4dC1jZW50ZXIgc3BhY2UteS0zXCI+XHJcbiAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIGgtNiB3LTYgdGV4dC13aGl0ZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cclxuICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzTmFtZT1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiNFwiIC8+XHJcbiAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9wYWNpdHktNzVcIlxyXG4gICAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXHJcbiAgICAgICAgICAgICAgICBkPVwiTTQgMTJhOCA4IDAgMDE4LThWMEM1LjM3MyAwIDAgNS4zNzMgMCAxMmg0em0yIDUuMjkxQTcuOTYyIDcuOTYyIDAgMDE0IDEySDBjMCAzLjA0MiAxLjEzNSA1LjgyNCAzIDcuOTM4bDMtMi42NDd6XCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGRcIj57c3RhdHVzTWVzc2FnZX08L3A+XHJcbiAgICAgICAgICAgICAge2Vycm9yID8gKFxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXdoaXRlLzcwXCI+e2Vycm9yLm1lc3NhZ2V9PC9wPlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cclxuICAgICAgICAgICAgICAgICAge2lzRW1iZWRkZWRcclxuICAgICAgICAgICAgICAgICAgICA/IFwiVGhpcyBwYWdlIHdpbGwgY2xvc2Ugb25jZSBXaG9wIGhhbmRzIHVzIHlvdXIgc2Vzc2lvbi5cIlxyXG4gICAgICAgICAgICAgICAgICAgIDogXCJZb3XigJlsbCBsYW5kIGJhY2sgaGVyZSBhZnRlciBjb21wbGV0aW5nIFdob3AgYXV0aGVudGljYXRpb24uXCJ9XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7c2hvd01hbnVhbEJ1dHRvbiAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBzZXRSZWRpcmVjdFRyaWdnZXJlZCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgc2lnbkluKCk7XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmFkaWVudC10by1yIGZyb20tWyNERDJGNkVdIHRvLVsjZjUzYzc5XSBob3Zlcjpmcm9tLVsjREQyRjZFXS85MCBob3Zlcjp0by1bI2Y1M2M3OV0vOTAgdGV4dC13aGl0ZVwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTJcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxyXG4gICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bS0yIDE1bC01LTUgMS40MS0xLjQxTDEwIDE0LjE3bDcuNTktNy41OUwxOSA4bC05IDl6XCIgLz5cclxuICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgQ29udGludWUgd2l0aCBXaG9wXHJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XHJcblxyXG4gICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgc2V0UmVkaXJlY3RUcmlnZ2VyZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIHJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxyXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlci13aGl0ZS8yMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzEwXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBSZWZyZXNoIHNlc3Npb25cclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQteHMgdGV4dC13aGl0ZS82MFwiPlxyXG4gICAgICAgICAgICBCeSBjb250aW51aW5nLCB5b3UgYWdyZWUgdG8gb3VyIFRlcm1zIG9mIFNlcnZpY2UgYW5kIFByaXZhY3kgUG9saWN5XHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgPC9DYXJkPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVN0YXRlIiwidXNlUm91dGVyIiwiQnV0dG9uIiwiQ2FyZCIsInVzZVdob3BBdXRoIiwiQXV0aFBhZ2UiLCJyb3V0ZXIiLCJ1c2VyIiwiaXNMb2FkaW5nIiwiaXNFbWJlZGRlZCIsImVycm9yIiwic2lnbkluIiwicmVmcmVzaCIsInJlZGlyZWN0VHJpZ2dlcmVkIiwic2V0UmVkaXJlY3RUcmlnZ2VyZWQiLCJzaG93TWFudWFsT3B0aW9uIiwic2V0U2hvd01hbnVhbE9wdGlvbiIsInJlcGxhY2UiLCJ0aW1lb3V0Iiwid2luZG93Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsInN0YXR1c01lc3NhZ2UiLCJzaG93TWFudWFsQnV0dG9uIiwiQm9vbGVhbiIsImRpdiIsImNsYXNzTmFtZSIsInN2ZyIsImZpbGwiLCJzdHJva2UiLCJ2aWV3Qm94IiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsImgxIiwicCIsInhtbG5zIiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJtZXNzYWdlIiwib25DbGljayIsImRpc2FibGVkIiwidmFyaWFudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/auth/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/whop-apps-nextjs/index.ts":
/*!***************************************!*\
  !*** ./lib/whop-apps-nextjs/index.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useWhopAuth: () => (/* binding */ useWhopAuth)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ useWhopAuth auto */ \n\nfunction detectEmbedding() {\n    if (false) {}\n    try {\n        return window.self !== window.top;\n    } catch (e) {\n        // Accessing window.top can throw cross-origin errors for embedded apps.\n        return true;\n    }\n}\nfunction useWhopAuth() {\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.usePathname)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useSearchParams)();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isEmbedded, setIsEmbedded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const mountedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);\n    const inflightRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useWhopAuth.useEffect\": ()=>{\n            return ({\n                \"useWhopAuth.useEffect\": ()=>{\n                    var _inflightRef_current;\n                    mountedRef.current = false;\n                    (_inflightRef_current = inflightRef.current) === null || _inflightRef_current === void 0 ? void 0 : _inflightRef_current.abort();\n                }\n            })[\"useWhopAuth.useEffect\"];\n        }\n    }[\"useWhopAuth.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useWhopAuth.useEffect\": ()=>{\n            setIsEmbedded(detectEmbedding());\n        }\n    }[\"useWhopAuth.useEffect\"], []);\n    const refresh = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWhopAuth.useCallback[refresh]\": async ()=>{\n            var _inflightRef_current;\n            (_inflightRef_current = inflightRef.current) === null || _inflightRef_current === void 0 ? void 0 : _inflightRef_current.abort();\n            const controller = new AbortController();\n            inflightRef.current = controller;\n            if (mountedRef.current) {\n                setIsLoading(true);\n            }\n            try {\n                const response = await fetch(\"/api/auth/session\", {\n                    credentials: \"include\",\n                    signal: controller.signal,\n                    headers: {\n                        \"cache-control\": \"no-store\"\n                    }\n                });\n                if (!mountedRef.current || controller.signal.aborted) {\n                    return;\n                }\n                if (response.ok) {\n                    const data = await response.json();\n                    setUser(data);\n                    setError(null);\n                } else {\n                    setUser(null);\n                    const info = await safeParseError(response);\n                    setError(info);\n                }\n            } catch (err) {\n                if (!mountedRef.current || controller.signal.aborted) {\n                    return;\n                }\n                setUser(null);\n                setError(err instanceof Error ? err : new Error(\"Failed to load Whop session\"));\n            } finally{\n                if (mountedRef.current && !controller.signal.aborted) {\n                    setIsLoading(false);\n                }\n            }\n        }\n    }[\"useWhopAuth.useCallback[refresh]\"], []);\n    const signIn = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWhopAuth.useCallback[signIn]\": ()=>{\n            if (false) {}\n            const current = \"\".concat(pathname !== null && pathname !== void 0 ? pathname : \"/\").concat((searchParams === null || searchParams === void 0 ? void 0 : searchParams.toString()) ? \"?\".concat(searchParams.toString()) : \"\");\n            const redirectTarget = encodeURIComponent(current || \"/dashboard\");\n            window.location.href = \"/api/auth/whop?redirect=\".concat(redirectTarget);\n        }\n    }[\"useWhopAuth.useCallback[signIn]\"], [\n        pathname,\n        searchParams\n    ]);\n    const signOut = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWhopAuth.useCallback[signOut]\": ()=>{\n            if (false) {}\n            const base = window.location.origin;\n            window.location.href = \"https://whop.com/logout?redirect=\".concat(encodeURIComponent(base));\n        }\n    }[\"useWhopAuth.useCallback[signOut]\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useWhopAuth.useEffect\": ()=>{\n            refresh();\n        }\n    }[\"useWhopAuth.useEffect\"], [\n        refresh\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useWhopAuth.useEffect\": ()=>{\n            if (!isEmbedded) {\n                return;\n            }\n            const handleMessage = {\n                \"useWhopAuth.useEffect.handleMessage\": (event)=>{\n                    if (typeof event.data !== \"object\" || event.data === null) {\n                        return;\n                    }\n                    const originHost = getHostFromOrigin(event.origin);\n                    if (originHost && !originHost.endsWith(\"whop.com\")) {\n                        return;\n                    }\n                    var _event_data_type;\n                    const type = (_event_data_type = event.data.type) !== null && _event_data_type !== void 0 ? _event_data_type : event.data.event;\n                    if (!type) {\n                        return;\n                    }\n                    const normalized = type.toLowerCase();\n                    if (normalized.includes(\"session\")) {\n                        refresh();\n                    }\n                }\n            }[\"useWhopAuth.useEffect.handleMessage\"];\n            window.addEventListener(\"message\", handleMessage);\n            return ({\n                \"useWhopAuth.useEffect\": ()=>window.removeEventListener(\"message\", handleMessage)\n            })[\"useWhopAuth.useEffect\"];\n        }\n    }[\"useWhopAuth.useEffect\"], [\n        isEmbedded,\n        refresh\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useWhopAuth.useMemo\": ()=>({\n                user,\n                isLoading,\n                error,\n                isEmbedded,\n                refresh,\n                signIn,\n                signOut\n            })\n    }[\"useWhopAuth.useMemo\"], [\n        user,\n        isLoading,\n        error,\n        isEmbedded,\n        refresh,\n        signIn,\n        signOut\n    ]);\n}\nasync function safeParseError(response) {\n    try {\n        const payload = await response.json();\n        var _payload_error, _ref;\n        const message = (_ref = (_payload_error = payload === null || payload === void 0 ? void 0 : payload.error) !== null && _payload_error !== void 0 ? _payload_error : payload === null || payload === void 0 ? void 0 : payload.message) !== null && _ref !== void 0 ? _ref : response.statusText;\n        return new Error(message);\n    } catch (e) {\n        return new Error(response.statusText || \"Whop session not available\");\n    }\n}\nfunction getHostFromOrigin(origin) {\n    if (!origin) {\n        return null;\n    }\n    try {\n        const { hostname } = new URL(origin);\n        return hostname;\n    } catch (e) {\n        return null;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi93aG9wLWFwcHMtbmV4dGpzL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7aUVBRTBFO0FBQ1g7QUF3Qi9ELFNBQVNPO0lBQ1AsSUFBSSxLQUE2QixFQUFFLEVBRWxDO0lBRUQsSUFBSTtRQUNGLE9BQU9DLE9BQU9DLElBQUksS0FBS0QsT0FBT0UsR0FBRztJQUNuQyxFQUFFLFVBQU07UUFDTix3RUFBd0U7UUFDeEUsT0FBTztJQUNUO0FBQ0Y7QUFFTyxTQUFTQztJQUNkLE1BQU1DLFdBQVdQLDREQUFXQTtJQUM1QixNQUFNUSxlQUFlUCxnRUFBZUE7SUFDcEMsTUFBTSxDQUFDUSxNQUFNQyxRQUFRLEdBQUdYLCtDQUFRQSxDQUF3QjtJQUN4RCxNQUFNLENBQUNZLFdBQVdDLGFBQWEsR0FBR2IsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDYyxPQUFPQyxTQUFTLEdBQUdmLCtDQUFRQSxDQUFlO0lBQ2pELE1BQU0sQ0FBQ2dCLFlBQVlDLGNBQWMsR0FBR2pCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU1rQixhQUFhbkIsNkNBQU1BLENBQUM7SUFDMUIsTUFBTW9CLGNBQWNwQiw2Q0FBTUEsQ0FBeUI7SUFFbkRGLGdEQUFTQTtpQ0FBQztZQUNSO3lDQUFPO3dCQUVMc0I7b0JBREFELFdBQVdFLE9BQU8sR0FBRztxQkFDckJELHVCQUFBQSxZQUFZQyxPQUFPLGNBQW5CRCwyQ0FBQUEscUJBQXFCRSxLQUFLO2dCQUM1Qjs7UUFDRjtnQ0FBRyxFQUFFO0lBRUx4QixnREFBU0E7aUNBQUM7WUFDUm9CLGNBQWNkO1FBQ2hCO2dDQUFHLEVBQUU7SUFFTCxNQUFNbUIsVUFBVTFCLGtEQUFXQTs0Q0FBQztnQkFDMUJ1QjthQUFBQSx1QkFBQUEsWUFBWUMsT0FBTyxjQUFuQkQsMkNBQUFBLHFCQUFxQkUsS0FBSztZQUMxQixNQUFNRSxhQUFhLElBQUlDO1lBQ3ZCTCxZQUFZQyxPQUFPLEdBQUdHO1lBRXRCLElBQUlMLFdBQVdF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RTtnQkFDQUU7Z0JBQ0FNO2dCQUNBZ0I7Z0JBQ0FNO1lBQ0Y7OEJBQ0E7UUFBQ2xDO1FBQU1FO1FBQVdFO1FBQU9FO1FBQVlNO1FBQVNnQjtRQUFRTTtLQUFRO0FBRWxFO0FBRUEsZUFBZVQsZUFBZVYsUUFBa0I7SUFDOUMsSUFBSTtRQUNGLE1BQU1pQyxVQUFVLE1BQU1qQyxTQUFTUSxJQUFJO1lBQ25CeUIsZ0JBQUFBO1FBQWhCLE1BQU1DLFVBQVVELENBQUFBLE9BQUFBLENBQUFBLGlCQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVM1QyxLQUFLLGNBQWQ0Qyw0QkFBQUEsaUJBQWtCQSxvQkFBQUEsOEJBQUFBLFFBQVNDLE9BQU8sY0FBbENELGtCQUFBQSxPQUFzQ2pDLFNBQVNtQyxVQUFVO1FBQ3pFLE9BQU8sSUFBSXZCLE1BQU1zQjtJQUNuQixFQUFFLFVBQU07UUFDTixPQUFPLElBQUl0QixNQUFNWixTQUFTbUMsVUFBVSxJQUFJO0lBQzFDO0FBQ0Y7QUFFQSxTQUFTVixrQkFBa0JKLE1BQWlDO0lBQzFELElBQUksQ0FBQ0EsUUFBUTtRQUNYLE9BQU87SUFDVDtJQUVBLElBQUk7UUFDRixNQUFNLEVBQUVlLFFBQVEsRUFBRSxHQUFHLElBQUlDLElBQUloQjtRQUM3QixPQUFPZTtJQUNULEVBQUUsVUFBTTtRQUNOLE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGFtYW43XFxEZXNrdG9wXFxBbXBGbG93XFxsaWJcXHdob3AtYXBwcy1uZXh0anNcXGluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VQYXRobmFtZSwgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xyXG5cclxudHlwZSBXaG9wSWZyYW1lVmlldyA9IFwiYXBwXCIgfCBcImFkbWluXCIgfCBcImFuYWx5dGljc1wiIHwgXCJwcmV2aWV3XCI7XHJcblxyXG50eXBlIFNlc3Npb25QYXlsb2FkID0ge1xyXG4gIHVzZXJJZDogc3RyaW5nO1xyXG4gIHNlc3Npb25Ub2tlbj86IHN0cmluZztcclxuICBleHBlcmllbmNlSWQ/OiBzdHJpbmc7XHJcbiAgZXhwZXJpZW5jZVJvdXRlPzogc3RyaW5nO1xyXG4gIGNvbXBhbnlJZD86IHN0cmluZztcclxuICBjb21wYW55Um91dGU/OiBzdHJpbmc7XHJcbiAgdmlld1R5cGU/OiBXaG9wSWZyYW1lVmlldztcclxufTtcclxuXHJcbnR5cGUgVXNlV2hvcEF1dGhTdGF0ZSA9IHtcclxuICB1c2VyOiBTZXNzaW9uUGF5bG9hZCB8IG51bGw7XHJcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xyXG4gIGVycm9yOiBFcnJvciB8IG51bGw7XHJcbiAgaXNFbWJlZGRlZDogYm9vbGVhbjtcclxuICByZWZyZXNoOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIHNpZ25JbjogKCkgPT4gdm9pZDtcclxuICBzaWduT3V0OiAoKSA9PiB2b2lkO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZGV0ZWN0RW1iZWRkaW5nKCk6IGJvb2xlYW4ge1xyXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgcmV0dXJuIHdpbmRvdy5zZWxmICE9PSB3aW5kb3cudG9wO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgLy8gQWNjZXNzaW5nIHdpbmRvdy50b3AgY2FuIHRocm93IGNyb3NzLW9yaWdpbiBlcnJvcnMgZm9yIGVtYmVkZGVkIGFwcHMuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VXaG9wQXV0aCgpOiBVc2VXaG9wQXV0aFN0YXRlIHtcclxuICBjb25zdCBwYXRobmFtZSA9IHVzZVBhdGhuYW1lKCk7XHJcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XHJcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8U2Vzc2lvblBheWxvYWQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxFcnJvciB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtpc0VtYmVkZGVkLCBzZXRJc0VtYmVkZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBtb3VudGVkUmVmID0gdXNlUmVmKHRydWUpO1xyXG4gIGNvbnN0IGluZmxpZ2h0UmVmID0gdXNlUmVmPEFib3J0Q29udHJvbGxlciB8IG51bGw+KG51bGwpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgbW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIGluZmxpZ2h0UmVmLmN1cnJlbnQ/LmFib3J0KCk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNldElzRW1iZWRkZWQoZGV0ZWN0RW1iZWRkaW5nKCkpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgcmVmcmVzaCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgIGluZmxpZ2h0UmVmLmN1cnJlbnQ/LmFib3J0KCk7XHJcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xyXG4gICAgaW5mbGlnaHRSZWYuY3VycmVudCA9IGNvbnRyb2xsZXI7XHJcblxyXG4gICAgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkge1xyXG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvYXV0aC9zZXNzaW9uXCIsIHtcclxuICAgICAgICBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIsXHJcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBcImNhY2hlLWNvbnRyb2xcIjogXCJuby1zdG9yZVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFtb3VudGVkUmVmLmN1cnJlbnQgfHwgY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpIGFzIFNlc3Npb25QYXlsb2FkO1xyXG4gICAgICAgIHNldFVzZXIoZGF0YSk7XHJcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0VXNlcihudWxsKTtcclxuICAgICAgICBjb25zdCBpbmZvID0gYXdhaXQgc2FmZVBhcnNlRXJyb3IocmVzcG9uc2UpO1xyXG4gICAgICAgIHNldEVycm9yKGluZm8pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgaWYgKCFtb3VudGVkUmVmLmN1cnJlbnQgfHwgY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBzZXRVc2VyKG51bGwpO1xyXG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcihcIkZhaWxlZCB0byBsb2FkIFdob3Agc2Vzc2lvblwiKSk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBpZiAobW91bnRlZFJlZi5jdXJyZW50ICYmICFjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3Qgc2lnbkluID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGN1cnJlbnQgPSBgJHtwYXRobmFtZSA/PyBcIi9cIn0ke3NlYXJjaFBhcmFtcz8udG9TdHJpbmcoKSA/IGA/JHtzZWFyY2hQYXJhbXMudG9TdHJpbmcoKX1gIDogXCJcIn1gO1xyXG4gICAgY29uc3QgcmVkaXJlY3RUYXJnZXQgPSBlbmNvZGVVUklDb21wb25lbnQoY3VycmVudCB8fCBcIi9kYXNoYm9hcmRcIik7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYXBpL2F1dGgvd2hvcD9yZWRpcmVjdD0ke3JlZGlyZWN0VGFyZ2V0fWA7XHJcbiAgfSwgW3BhdGhuYW1lLCBzZWFyY2hQYXJhbXNdKTtcclxuXHJcbiAgY29uc3Qgc2lnbk91dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBiYXNlID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYGh0dHBzOi8vd2hvcC5jb20vbG9nb3V0P3JlZGlyZWN0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGJhc2UpfWA7XHJcbiAgfSwgW10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcmVmcmVzaCgpO1xyXG4gIH0sIFtyZWZyZXNoXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzRW1iZWRkZWQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhhbmRsZU1lc3NhZ2UgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xyXG4gICAgICBpZiAodHlwZW9mIGV2ZW50LmRhdGEgIT09IFwib2JqZWN0XCIgfHwgZXZlbnQuZGF0YSA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgb3JpZ2luSG9zdCA9IGdldEhvc3RGcm9tT3JpZ2luKGV2ZW50Lm9yaWdpbik7XHJcbiAgICAgIGlmIChvcmlnaW5Ib3N0ICYmICFvcmlnaW5Ib3N0LmVuZHNXaXRoKFwid2hvcC5jb21cIikpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHR5cGUgPSAoZXZlbnQuZGF0YSBhcyB7IHR5cGU/OiBzdHJpbmc7IGV2ZW50Pzogc3RyaW5nIH0pLnR5cGUgPz8gKGV2ZW50LmRhdGEgYXMgeyBldmVudD86IHN0cmluZyB9KS5ldmVudDtcclxuICAgICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBub3JtYWxpemVkID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBpZiAobm9ybWFsaXplZC5pbmNsdWRlcyhcInNlc3Npb25cIikpIHtcclxuICAgICAgICByZWZyZXNoKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGhhbmRsZU1lc3NhZ2UpO1xyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBoYW5kbGVNZXNzYWdlKTtcclxuICB9LCBbaXNFbWJlZGRlZCwgcmVmcmVzaF0pO1xyXG5cclxuICByZXR1cm4gdXNlTWVtbyhcclxuICAgICgpID0+ICh7XHJcbiAgICAgIHVzZXIsXHJcbiAgICAgIGlzTG9hZGluZyxcclxuICAgICAgZXJyb3IsXHJcbiAgICAgIGlzRW1iZWRkZWQsXHJcbiAgICAgIHJlZnJlc2gsXHJcbiAgICAgIHNpZ25JbixcclxuICAgICAgc2lnbk91dCxcclxuICAgIH0pLFxyXG4gICAgW3VzZXIsIGlzTG9hZGluZywgZXJyb3IsIGlzRW1iZWRkZWQsIHJlZnJlc2gsIHNpZ25Jbiwgc2lnbk91dF0sXHJcbiAgKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gc2FmZVBhcnNlRXJyb3IocmVzcG9uc2U6IFJlc3BvbnNlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zdCBtZXNzYWdlID0gcGF5bG9hZD8uZXJyb3IgPz8gcGF5bG9hZD8ubWVzc2FnZSA/PyByZXNwb25zZS5zdGF0dXNUZXh0O1xyXG4gICAgcmV0dXJuIG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCB8fCBcIldob3Agc2Vzc2lvbiBub3QgYXZhaWxhYmxlXCIpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SG9zdEZyb21PcmlnaW4ob3JpZ2luOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKSB7XHJcbiAgaWYgKCFvcmlnaW4pIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgaG9zdG5hbWUgfSA9IG5ldyBVUkwob3JpZ2luKTtcclxuICAgIHJldHVybiBob3N0bmFtZTtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VQYXRobmFtZSIsInVzZVNlYXJjaFBhcmFtcyIsImRldGVjdEVtYmVkZGluZyIsIndpbmRvdyIsInNlbGYiLCJ0b3AiLCJ1c2VXaG9wQXV0aCIsInBhdGhuYW1lIiwic2VhcmNoUGFyYW1zIiwidXNlciIsInNldFVzZXIiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiaXNFbWJlZGRlZCIsInNldElzRW1iZWRkZWQiLCJtb3VudGVkUmVmIiwiaW5mbGlnaHRSZWYiLCJjdXJyZW50IiwiYWJvcnQiLCJyZWZyZXNoIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInJlc3BvbnNlIiwiZmV0Y2giLCJjcmVkZW50aWFscyIsInNpZ25hbCIsImhlYWRlcnMiLCJhYm9ydGVkIiwib2siLCJkYXRhIiwianNvbiIsImluZm8iLCJzYWZlUGFyc2VFcnJvciIsImVyciIsIkVycm9yIiwic2lnbkluIiwidG9TdHJpbmciLCJyZWRpcmVjdFRhcmdldCIsImVuY29kZVVSSUNvbXBvbmVudCIsImxvY2F0aW9uIiwiaHJlZiIsInNpZ25PdXQiLCJiYXNlIiwib3JpZ2luIiwiaGFuZGxlTWVzc2FnZSIsImV2ZW50Iiwib3JpZ2luSG9zdCIsImdldEhvc3RGcm9tT3JpZ2luIiwiZW5kc1dpdGgiLCJ0eXBlIiwibm9ybWFsaXplZCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBheWxvYWQiLCJtZXNzYWdlIiwic3RhdHVzVGV4dCIsImhvc3RuYW1lIiwiVVJMIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/whop-apps-nextjs/index.ts\n"));

/***/ })

});